# Getting Started with Bicep

<div style="width: 400px; height: 400px; overflow: hidden;">
  <img src="../insight-bicep-advent-calendar/.images/954a8327-16ec-46e3-889b-9be548b4161a.jpg" alt="Bicep Advent Calendar" style="clip: rect(0px,60px,200px,0px);">
</div>

## Introduction

In this blog post, we will setup Bicep, extensions and other tool sets that are required to get started with developing templates.

## Tooling and Extensions

The following is a list of tooling and extensions that I highly recommend that you install to get started with Bicep.

- [Visual Studio Code](https://code.visualstudio.com/download)
- [Bicep Extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-bicep)
- [AzureCLI](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli)
- [Git](https://git-scm.com/downloads)
- [CodeTour extension for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=vsls-contrib.codetour)
- [ARM Tools extension for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=msazurermtools.azurerm-vscode-tools)
- [ARM Template Viewer extension for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=bencoleman.armview)
- [PSRule extension for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=bewhite.psrule-vscode)
- [EditorConfig for VS Code](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)

## Bicep Best Practices

The below best practices and guidance will help along your authoring journey and make you Bicep files and templates more readable and maintainable.

### Parameters

- Use good naming for parameter declarations. Good names make your templates easy to read and understand. Make sure you're using clear, descriptive names, and be consistent in your naming.
- Think carefully about the parameters your template uses. Try to use parameters for settings that change between deployments. Variables and hard-coded values can be used for settings that don't change between deployments.
- Be mindful of the default values you use. Make sure the default values are safe for anyone to deploy. For example, consider using low-cost pricing tiers and SKUs so that someone deploying the template to a test environment doesn't incur a large cost unnecessarily.
- Use the `@allowed` decorator sparingly. If you use this decorator too broadly, you might block valid deployments. As Azure services add SKUs and sizes, your allowed list might not be up to date. For example, allowing only Premium v3 SKUs might make sense in production, but it prevents you from using the same template in non-production environments.
- It's a good practice to provide descriptions for your parameters. Try to make the descriptions helpful, and provide any important information about what the template needs the parameter values to be.
- You can put parameter declarations anywhere in the template file, although it's usually a good idea to put them at the top of the file so your Bicep code is easy to read.
- It's a good practice to specify the minimum and maximum character length for parameters that control naming. These limitations help avoid errors later during deployment.

### Variables

- When you define a variable, the [data type](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/azure-resource-manager/bicep/data-types.md) isn't needed. Variables infer the type from the resolve value.
- You can use Bicep functions to create a variable.
- After a variable is defined in your Bicep file, you reference the value using the variable's name.

## Names

- Use lower camel case for names, such as `myVariableName` or `myResource`.

- The [uniqueString() function](bicep-functions-string.md#uniquestring) is useful for creating unique resource names. When you provide the same parameters, it returns the same string every time. Passing in the resource group ID means the string is the same on every deployment to the same resource group, but different when you deploy to different resource groups or subscriptions.

- It's a good practice to use template expressions to create resource names, like in this example:

  :::code language="bicep" source="~/azure-docs-bicep-samples/samples/best-practices/resource-name-expressions.bicep" highlight="3":::

  Using template expressions to create resource names gives you several benefits:

  - Strings generated by `uniqueString()` aren't meaningful. It's helpful to use a template expression to create a name that includes meaningful information, such as a short descriptor of the project or environment name, as well as a random component to make the name more likely to be unique.

  - The `uniqueString()` function doesn't guarantee globally unique names. By adding additional text to your resource names, you reduce the likelihood of reusing an existing resource name.

  - Sometimes the `uniqueString()` function creates strings that start with a number. Some Azure resources, like storage accounts, don't allow their names to start with numbers. This requirement means it's a good idea to use string interpolation to create resource names. You can add a prefix to the unique string.

  - Many Azure resource types have rules about the allowed characters and length of their names. Embedding the creation of resource names in the template means that anyone who uses the template doesn't have to remember to follow these rules themselves.

- Avoid using `name` in a symbolic name. The symbolic name represents the resource, not the resource's name. For example, instead of the following syntax:

  ```bicep
  resource cosmosDBAccountName 'Microsoft.DocumentDB/databaseAccounts@2023-04-15' = {
  ```

  Use:

  ```bicep
  resource cosmosDBAccount 'Microsoft.DocumentDB/databaseAccounts@2023-04-15' = {
  ```

- Avoid distinguishing variables and parameters by the use of suffixes.

## Resource definitions

- Don't embed complex expressions directly into resource properties, this clutters resource definitions with logic. Use variables for these expressions instead as this approach makes your Bicep file easier to read and understand.

- Use the latest API version for each resource where possible, this ensures that you have access to the latest features and fixes.

- Use implicit dependencies over explicit dependencies, the `dependsOn` resource property enables you to declare an explicit dependency between resources, it's usually possible to use the other resource's properties by using its symbolic name. This approach creates an implicit dependency between the two resources, and enables Bicep to manage the relationship itself.

- Use the `existing` keyword when a resource isn't deployed in the Bicep file, this allows you to use the symbolic reference for the resource.

## Child resources

- Avoid deep nesting, this can make the Bicep code harder to read and work with.

- Use the `parent` property or nesting for child resources.

## Outputs

- Don't create outputs for sensitive data, these can be accessed via the deployment history.

## Conclusion

- For an introduction to Bicep, see [Bicep quickstart](quickstart-create-bicep-use-visual-studio-code.md).
- For more information about Bicep parameters, see [Parameters in Bicep](parameters.md).
- For more information about Bicep variables, see [Variables in Bicep](variables.md).
- For more information about Bicep outputs, see [Outputs in Bicep](outputs.md).